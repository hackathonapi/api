{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Clearview API","text":"<p>Clearview is a document intelligence API that analyzes articles, web pages, and raw text for bias, scam likelihood, and subjectivity \u2014 then delivers results as a formatted PDF or spoken audio.</p>"},{"location":"#what-it-does","title":"What it does","text":"Feature Description Bias detection Identifies political, ideological, and cultural biases in content Scam detection Flags misleading or fraudulent content Objectivity analysis Measures how subjective or editorial the writing is Summarization Generates a concise summary of the full text PDF report Bundles all findings into a downloadable report Text-to-speech Converts any document to an MP3 via ElevenLabs"},{"location":"#base-url","title":"Base URL","text":"<pre><code>https://clearwayapi.tech\n</code></pre>"},{"location":"#endpoints-at-a-glance","title":"Endpoints at a glance","text":"Method Path Description <code>POST</code> <code>/clearview</code> Analyze a document and receive a PDF report <code>POST</code> <code>/audio</code> Convert a document to an MP3 audio file"},{"location":"#quick-links","title":"Quick links","text":"<ul> <li>Getting Started \u2014 set up and run your first request</li> <li>Clearview endpoints \u2014 analysis + PDF</li> <li>Audio endpoints \u2014 text-to-speech</li> <li>Models reference \u2014 full schema details</li> </ul>"},{"location":"getting-started/","title":"Getting Started","text":"<p>This guide walks you through setting up and running the Clearview API locally, then making your first request.</p>"},{"location":"getting-started/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.9+</li> <li><code>pip</code></li> <li>API keys for the following services:</li> </ul> Service Used for OpenAI Summarization (<code>OPENAI_API_KEY</code>) ElevenLabs Text-to-speech (<code>ELEVENLABS_API_KEY</code>)"},{"location":"getting-started/#installation","title":"Installation","text":"<p>1. Clone the repository</p> <pre><code>git clone https://github.com/hackathonapi/api.git\ncd api\n</code></pre> <p>2. Create and activate a virtual environment</p> <pre><code>python -m venv .venv\nsource .venv/Scripts/activate   # Windows (bash)\n# source .venv/bin/activate     # macOS / Linux\n</code></pre> <p>3. Install dependencies</p> <pre><code>pip install -r requirements.txt\n</code></pre> <p>4. Configure environment variables</p> <p>Create a <code>.env</code> file in the project root:</p> <pre><code>OPENAI_API_KEY=sk-...\nELEVENLABS_API_KEY=...\n</code></pre>"},{"location":"getting-started/#running-the-api","title":"Running the API","text":"<pre><code>uvicorn src.main:app --reload\n</code></pre> <p>The API starts at <code>http://127.0.0.1:8000</code>.</p> <p>Verify it's running:</p> curlPythonJavaScript <pre><code>curl http://127.0.0.1:8000/\n</code></pre> <pre><code>import httpx\n\nr = httpx.get(\"http://127.0.0.1:8000/\")\nprint(r.json())\n</code></pre> <pre><code>const res = await fetch(\"http://127.0.0.1:8000/\");\nconsole.log(await res.json());\n</code></pre> <p>Expected response:</p> <pre><code>{\"message\": \"API is running!\"}\n</code></pre>"},{"location":"getting-started/#interactive-docs","title":"Interactive docs","text":"<p>FastAPI exposes auto-generated interactive docs while the server is running:</p> <ul> <li>Swagger UI \u2014 <code>http://127.0.0.1:8000/docs</code></li> <li>ReDoc \u2014 <code>http://127.0.0.1:8000/redoc</code></li> </ul>"},{"location":"getting-started/#your-first-request","title":"Your first request","text":"<p>The following example analyzes a news article URL and retrieves the PDF report.</p>"},{"location":"getting-started/#step-1-analyze-a-document","title":"Step 1 \u2014 Analyze a document","text":"curlPythonJavaScript <pre><code>curl -X POST http://127.0.0.1:8000/clearview \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"input\": \"https://www.bbc.com/news/articles/example\"}'\n</code></pre> <pre><code>import httpx\n\nr = httpx.post(\n    \"http://127.0.0.1:8000/clearview\",\n    json={\"input\": \"https://www.bbc.com/news/articles/example\"},\n    timeout=120,  # analysis takes time \u2014 several ML models run in parallel\n)\ndata = r.json()\nprint(\"Word count:\", data[\"word_count\"])\nprint(\"Scam notes:\", data.get(\"scam_notes\"))\nprint(\"Bias notes:\", data.get(\"bias_notes\"))\n</code></pre> <pre><code>const res = await fetch(\"http://127.0.0.1:8000/clearview\", {\n  method: \"POST\",\n  headers: { \"Content-Type\": \"application/json\" },\n  body: JSON.stringify({ input: \"https://www.bbc.com/news/articles/example\" }),\n});\nconst data = await res.json();\nconsole.log(\"Word count:\", data.word_count);\nconsole.log(\"Scam notes:\", data.scam_notes);\nconsole.log(\"Bias notes:\", data.bias_notes);\n</code></pre> <p>The response includes a <code>pdf</code> field containing the full report as a base64-encoded string.</p>"},{"location":"getting-started/#step-2-save-the-pdf","title":"Step 2 \u2014 Save the PDF","text":"PythonJavaScript <pre><code>import base64\n\npdf_bytes = base64.b64decode(data[\"pdf\"])\nwith open(\"report.pdf\", \"wb\") as f:\n    f.write(pdf_bytes)\nprint(\"Saved report.pdf\")\n</code></pre> <pre><code>// In a browser\nconst bytes = atob(data.pdf);\nconst arr = new Uint8Array(bytes.length).map((_, i) =&gt; bytes.charCodeAt(i));\nconst blob = new Blob([arr], { type: \"application/pdf\" });\nconst url = URL.createObjectURL(blob);\nconst a = document.createElement(\"a\");\na.href = url;\na.download = \"report.pdf\";\na.click();\n</code></pre>"},{"location":"getting-started/#next-steps","title":"Next steps","text":"<ul> <li>Clearview endpoint reference \u2014 full request/response details</li> <li>Audio endpoint reference \u2014 convert documents to speech</li> <li>Models reference \u2014 complete schema definitions</li> </ul>"},{"location":"endpoints/audio/","title":"Audio \u2014 Text-to-Speech","text":""},{"location":"endpoints/audio/#post-audio","title":"POST /audio","text":"<p>Accepts a URL, file path, or raw text and returns generated MP3 audio.</p>"},{"location":"endpoints/audio/#request","title":"Request","text":"<p>Body \u2014 <code>application/json</code></p> Field Type Required Description <code>input</code> <code>string</code> Yes URL, local file path, or raw text to convert <pre><code>{\n  \"input\": \"https://example.com/article\"\n}\n</code></pre>"},{"location":"endpoints/audio/#response","title":"Response","text":"<p>200 OK \u2014 <code>audio/mpeg</code></p> <p>Headers:</p> Header Value <code>Content-Type</code> <code>audio/mpeg</code> <code>Content-Disposition</code> <code>inline; filename=\"audio.mp3\"</code> <code>Content-Length</code> Audio size in bytes <p>422 Unprocessable Entity \u2014 content could not be extracted.</p> <p>503 Service Unavailable \u2014 text-to-speech generation failed.</p>"},{"location":"endpoints/clearview/","title":"Clearview \u2014 Analysis &amp; PDF","text":""},{"location":"endpoints/clearview/#post-clearview","title":"POST /clearview","text":"<p>Accepts a URL, file path, or raw text. The API extracts content, runs analysis, and returns a base64-encoded PDF report in the JSON response.</p>"},{"location":"endpoints/clearview/#request","title":"Request","text":"<p>Body \u2014 <code>application/json</code></p> Field Type Required Description <code>input</code> <code>string</code> Yes URL, local file path, or raw text to analyze <pre><code>{\n  \"input\": \"https://example.com/article\"\n}\n</code></pre>"},{"location":"endpoints/clearview/#response","title":"Response","text":"<p>200 OK \u2014 <code>application/json</code></p> Field Type Description <code>title</code> <code>string</code> Extracted document title <code>content</code> <code>string</code> Full extracted text <code>source</code> <code>string</code> Source URL or input path <code>word_count</code> <code>integer</code> Word count of extracted content <code>summary</code> <code>string \\| null</code> Generated summary <code>scam_notes</code> <code>string \\| null</code> Scam analysis notes <code>subjective_notes</code> <code>string \\| null</code> Objectivity analysis notes <code>bias_notes</code> <code>string \\| null</code> Bias analysis notes <code>ai_section</code> <code>string \\| null</code> Combined AI analysis text <code>pdf</code> <code>string</code> Base64-encoded PDF report <code>error</code> <code>string \\| null</code> Non-fatal error detail if present <p>422 Unprocessable Entity \u2014 content could not be extracted.</p> <p>500 Internal Server Error \u2014 PDF generation failed.</p>"},{"location":"reference/models/","title":"Models Reference","text":"<p>Complete schema definitions for all request and response models.</p>"},{"location":"reference/models/#request-models","title":"Request models","text":""},{"location":"reference/models/#inputrequest","title":"InputRequest","text":"<p>Used by <code>POST /clearview</code>.</p> Field Type Required Description <code>input</code> <code>string</code> Yes A URL, file path, or raw text string to analyze <pre><code>{\n  \"input\": \"https://example.com/article\"\n}\n</code></pre>"},{"location":"reference/models/#audiorequest","title":"AudioRequest","text":"<p>Used by <code>POST /audio</code>.</p> Field Type Required Description <code>input</code> <code>string</code> Yes A URL, file path, or raw text string to convert <pre><code>{\n  \"input\": \"https://example.com/article\"\n}\n</code></pre>"},{"location":"reference/models/#response-models","title":"Response models","text":""},{"location":"reference/models/#clearviewresponse","title":"ClearviewResponse","text":"<p>Returned by <code>POST /clearview</code>.</p> Field Type Description <code>title</code> <code>string</code> Extracted document title <code>content</code> <code>string</code> Full extracted text content <code>source</code> <code>string</code> Original source URL or input path <code>word_count</code> <code>integer</code> Number of words in the extracted content <code>summary</code> <code>string \\| null</code> Auto-generated summary. <code>null</code> if summarization failed. <code>scam_notes</code> <code>string \\| null</code> Human-readable explanation of the scam classification <code>subjective_notes</code> <code>string \\| null</code> Human-readable explanation of the objectivity classification <code>bias_notes</code> <code>string \\| null</code> Human-readable explanation of detected biases <code>ai_section</code> <code>string \\| null</code> Combined analysis section text used in output <code>pdf</code> <code>string</code> Base64-encoded PDF report. Decode with <code>base64.b64decode()</code> (Python) or <code>atob()</code> (JS). <code>error</code> <code>string \\| null</code> Non-null if a non-fatal error occurred during processing <pre><code>{\n  \"title\": \"Example Article\",\n  \"content\": \"Full article text...\",\n  \"source\": \"https://example.com/article\",\n  \"word_count\": 842,\n  \"summary\": \"A brief summary.\",\n  \"scam_notes\": null,\n  \"subjective_notes\": \"The article contains editorial language.\",\n  \"bias_notes\": \"One bias type exceeded the confidence threshold.\",\n  \"ai_section\": \"Combined AI analysis content.\",\n  \"pdf\": \"&lt;base64 string&gt;\",\n  \"error\": null\n}\n</code></pre>"},{"location":"reference/models/#internal-models","title":"Internal models","text":"<p>These models are used internally by the API and are not returned directly to clients, but are documented here for reference.</p>"},{"location":"reference/models/#extractionresult","title":"ExtractionResult","text":"<p>Produced by the extractor service before analysis begins.</p> Field Type Description <code>title</code> <code>string</code> Extracted document title <code>content</code> <code>string</code> Extracted text body <code>input_type</code> <code>string</code> Classification of the input (<code>url</code>, <code>file</code>, or <code>text</code>) <code>source</code> <code>string</code> Source identifier <code>word_count</code> <code>integer</code> Word count of the extracted content <code>extraction_method</code> <code>string</code> Method used to extract content (e.g. <code>newspaper4k</code>) <code>error</code> <code>string \\| null</code> Set if extraction partially failed"},{"location":"reference/models/#scamanalysisresult","title":"ScamAnalysisResult","text":"Field Type Description <code>scam_probability</code> <code>float</code> (0\u20131) Confidence score that the content is a scam <code>non_scam_probability</code> <code>float</code> (0\u20131) Confidence score that the content is legitimate <code>is_scam</code> <code>boolean</code> Final classification <code>notes</code> <code>string \\| null</code> Explanation <code>error</code> <code>string \\| null</code> Set if analysis failed"},{"location":"reference/models/#objectivityanalysisresult","title":"ObjectivityAnalysisResult","text":"Field Type Description <code>subjective_probability</code> <code>float</code> (0\u20131) Confidence the content is subjective/opinionated <code>objective_probability</code> <code>float</code> (0\u20131) Confidence the content is objective/factual <code>is_subjective</code> <code>boolean</code> Final classification <code>notes</code> <code>string \\| null</code> Explanation <code>error</code> <code>string \\| null</code> Set if analysis failed"},{"location":"reference/models/#sentimentanalysisresult","title":"SentimentAnalysisResult","text":"Field Type Description <code>bias_cutoff</code> <code>float</code> (0\u20131) Minimum confidence score required for a bias label to be reported <code>bias_scores</code> <code>object</code> Map of all bias category labels to their confidence scores <code>biases_above_cutoff</code> <code>string[]</code> Labels whose scores met or exceeded <code>bias_cutoff</code> \u2014 surfaced as <code>biases</code> in <code>ClearviewResponse</code> <code>notes</code> <code>string \\| null</code> Explanation <code>error</code> <code>string \\| null</code> Set if analysis failed"}]}